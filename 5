<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pple.tcg ¬∑ Perfil de vendedor</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#08080d; --bg2:#0e0e16; --surface:#11111c; --surface2:#181825;
  --border:#22223a; --border2:#2d2d4a;
  --accent:#d4f53c; --accent-glow:rgba(212,245,60,0.15); --accent-dim:rgba(212,245,60,0.06);
  --text:#eeeef8; --text2:#9898b8; --text3:#55556a;
  --nm:#2ed573; --lp:#ffa502; --mp:#ff4757;
  --nm-bg:rgba(46,213,115,0.08); --lp-bg:rgba(255,165,2,0.08); --mp-bg:rgba(255,71,87,0.08);
  --psa10:#d4f53c; --psa9:#38bdf8; --psa8:#a78bfa;
  --font-display:'Bebas Neue',sans-serif;
  --font-mono:'DM Mono',monospace;
  --font-body:'Plus Jakarta Sans',sans-serif;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:var(--font-body);background:var(--bg);color:var(--text);min-height:100vh;}
body::after{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");pointer-events:none;z-index:9999;mix-blend-mode:overlay;}
::-webkit-scrollbar{width:4px;} ::-webkit-scrollbar-track{background:var(--bg);} ::-webkit-scrollbar-thumb{background:var(--border2);border-radius:2px;}

/* NAV */
nav{display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:60px;border-bottom:1px solid var(--border);position:sticky;top:0;background:rgba(8,8,13,0.96);backdrop-filter:blur(24px);z-index:100;}
.logo{font-family:var(--font-display);font-size:1.8rem;letter-spacing:3px;cursor:pointer;}
.logo .dot{color:var(--accent);}
.nav-pills{display:flex;gap:0;border:1px solid var(--border);border-radius:6px;overflow:hidden;}
.nav-tab{padding:7px 22px;font-family:var(--font-mono);font-size:0.72rem;font-weight:500;letter-spacing:1px;text-transform:uppercase;color:var(--text2);cursor:pointer;border:none;background:none;border-right:1px solid var(--border);transition:all 0.15s;}
.nav-tab:last-child{border-right:none;}
.nav-tab:hover{background:var(--surface);color:var(--text);}
.nav-tab.active{background:var(--accent);color:#08080d;font-weight:700;}
.nav-right{display:flex;gap:10px;align-items:center;}
.btn-outline{padding:7px 16px;border:1px solid var(--border2);border-radius:5px;background:none;color:var(--text2);font-family:var(--font-mono);font-size:0.72rem;font-weight:600;letter-spacing:0.5px;cursor:pointer;transition:all 0.15s;text-transform:uppercase;}
.btn-outline:hover{border-color:var(--accent);color:var(--accent);}
.btn-accent{padding:7px 18px;border:none;border-radius:5px;background:var(--accent);color:#08080d;font-family:var(--font-mono);font-size:0.72rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all 0.15s;}
.btn-accent:hover{box-shadow:0 0 20px var(--accent-glow);transform:translateY(-1px);}

/* PROFILE HEADER */
.profile-header{background:var(--bg2);border-bottom:1px solid var(--border);padding:36px 40px 28px;position:relative;overflow:hidden;}
.ph-glow{position:absolute;top:-100px;right:-60px;width:400px;height:400px;background:radial-gradient(circle,rgba(212,245,60,0.05) 0%,transparent 70%);pointer-events:none;}

.ph-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:auto 1fr auto;gap:24px;align-items:start;}

/* Avatar */
.ph-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#3d2a6e,#d4f53c);display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-size:2.2rem;letter-spacing:1px;color:#08080d;flex-shrink:0;border:2px solid rgba(212,245,60,0.3);}

/* Info */
.ph-info{}
.ph-top{display:flex;align-items:center;gap:12px;margin-bottom:6px;flex-wrap:wrap;}
.ph-username{font-family:var(--font-display);font-size:2rem;letter-spacing:2px;}
.ph-verified{display:inline-flex;align-items:center;gap:5px;background:var(--nm-bg);border:1px solid rgba(46,213,115,0.2);border-radius:4px;padding:3px 10px;font-family:var(--font-mono);font-size:0.62rem;color:var(--nm);letter-spacing:0.5px;}
.ph-type{display:inline-flex;align-items:center;gap:5px;background:var(--surface2);border:1px solid var(--border2);border-radius:4px;padding:3px 10px;font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);letter-spacing:0.5px;}
.ph-meta{display:flex;align-items:center;gap:16px;margin-bottom:10px;flex-wrap:wrap;}
.ph-meta-item{font-family:var(--font-mono);font-size:0.68rem;color:var(--text3);letter-spacing:0.3px;display:flex;align-items:center;gap:5px;}
.ph-desc{font-size:0.85rem;color:var(--text2);font-weight:300;line-height:1.6;max-width:560px;}

/* Stars */
.stars{display:flex;gap:2px;align-items:center;}
.star{color:var(--accent);font-size:0.85rem;}
.star.empty{color:var(--border2);}
.rating-num{font-family:var(--font-display);font-size:1.1rem;letter-spacing:0.5px;color:var(--accent);margin-left:6px;}
.rating-count{font-family:var(--font-mono);font-size:0.65rem;color:var(--text3);margin-left:4px;}

/* Ph actions */
.ph-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-end;}
.btn-msg{display:flex;align-items:center;gap:7px;padding:10px 20px;border:1px solid var(--border2);border-radius:6px;background:none;color:var(--text2);font-family:var(--font-mono);font-size:0.72rem;font-weight:600;letter-spacing:0.5px;cursor:pointer;transition:all 0.15s;text-transform:uppercase;}
.btn-msg:hover{border-color:var(--accent);color:var(--accent);}
.btn-follow{display:flex;align-items:center;gap:7px;padding:10px 20px;border:none;border-radius:6px;background:var(--accent);color:#08080d;font-family:var(--font-mono);font-size:0.72rem;font-weight:700;letter-spacing:1px;cursor:pointer;transition:all 0.15s;text-transform:uppercase;}
.btn-follow:hover{box-shadow:0 0 16px var(--accent-glow);}
.btn-follow.following{background:var(--surface2);border:1px solid var(--border2);color:var(--text3);}
.ph-member{font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);letter-spacing:0.3px;text-align:right;}

/* STATS BAR */
.stats-bar{background:var(--surface);border-bottom:1px solid var(--border);}
.stats-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(5,1fr);divide-x:1px solid var(--border);}
.stat-item{padding:16px 24px;text-align:center;border-right:1px solid var(--border);}
.stat-item:last-child{border-right:none;}
.si-val{font-family:var(--font-display);font-size:1.6rem;letter-spacing:1px;line-height:1;margin-bottom:5px;}
.si-val.accent{color:var(--accent);}
.si-val.green{color:var(--nm);}
.si-label{font-family:var(--font-mono);font-size:0.6rem;color:var(--text3);letter-spacing:1.5px;text-transform:uppercase;}

/* MAIN LAYOUT */
.main-wrap{max-width:1200px;margin:0 auto;padding:28px 40px 80px;display:grid;grid-template-columns:1fr 320px;gap:24px;}

/* LEFT */
.left-col{}

/* Section */
.section{margin-bottom:28px;}
.sec-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--border);}
.sec-title{font-family:var(--font-display);font-size:1.2rem;letter-spacing:1px;}
.sec-meta{font-family:var(--font-mono);font-size:0.65rem;color:var(--text3);letter-spacing:0.5px;}
.sec-link{font-family:var(--font-mono);font-size:0.65rem;color:var(--accent);cursor:pointer;letter-spacing:0.5px;transition:opacity 0.15s;}
.sec-link:hover{opacity:0.7;}

/* Listings grid */
.listings-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(155px,1fr));gap:10px;}
.listing-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;overflow:hidden;cursor:pointer;transition:all 0.2s;position:relative;}
.listing-card:hover{transform:translateY(-3px);border-color:var(--border2);box-shadow:0 12px 24px rgba(0,0,0,0.4);}
.lc-img{width:100%;height:120px;background:linear-gradient(135deg,#13132a,#1a1a35);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;}
.lc-img img{width:100%;height:100%;object-fit:contain;padding:4px;}
.lc-badge{position:absolute;top:6px;left:6px;font-family:var(--font-mono);font-size:0.58rem;font-weight:700;padding:2px 6px;border-radius:3px;letter-spacing:0.5px;}
.lc-nm{background:rgba(46,213,115,0.15);border:1px solid rgba(46,213,115,0.3);color:var(--nm);}
.lc-lp{background:rgba(255,165,2,0.15);border:1px solid rgba(255,165,2,0.3);color:var(--lp);}
.lc-psa{background:rgba(212,245,60,0.12);border:1px solid rgba(212,245,60,0.3);color:var(--psa10);}
.lc-verified{position:absolute;top:6px;right:6px;width:18px;height:18px;border-radius:50%;background:var(--nm);display:flex;align-items:center;justify-content:center;font-size:0.55rem;}
.lc-body{padding:9px 10px;}
.lc-name{font-family:var(--font-display);font-size:0.88rem;letter-spacing:0.5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:1px;}
.lc-set{font-family:var(--font-mono);font-size:0.58rem;color:var(--text3);margin-bottom:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.lc-price{font-family:var(--font-display);font-size:1rem;letter-spacing:0.5px;color:var(--accent);}

/* Sales history */
.sales-list{display:flex;flex-direction:column;gap:8px;}
.sale-item{display:flex;align-items:center;gap:14px;padding:12px 14px;background:var(--surface);border:1px solid var(--border);border-radius:8px;}
.si-thumb{width:34px;height:46px;object-fit:contain;border-radius:4px;background:var(--surface2);flex-shrink:0;}
.si-info{flex:1;min-width:0;}
.si-name{font-size:0.83rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px;}
.si-meta{font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);letter-spacing:0.3px;}
.si-price{font-family:var(--font-display);font-size:1rem;letter-spacing:0.5px;color:var(--accent);flex-shrink:0;}
.si-date{font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);flex-shrink:0;text-align:right;}

/* Reviews */
.reviews-list{display:flex;flex-direction:column;gap:10px;}
.review-item{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:16px;}
.ri-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
.ri-user{display:flex;align-items:center;gap:10px;}
.ri-av{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:0.72rem;font-weight:700;color:#08080d;flex-shrink:0;}
.ri-name{font-size:0.82rem;font-weight:600;margin-bottom:1px;}
.ri-date{font-family:var(--font-mono);font-size:0.6rem;color:var(--text3);}
.ri-stars{display:flex;gap:2px;}
.ri-star{color:var(--accent);font-size:0.78rem;}
.ri-star.empty{color:var(--border2);}
.ri-text{font-size:0.82rem;color:var(--text2);line-height:1.6;font-weight:300;margin-bottom:8px;}
.ri-card{display:inline-flex;align-items:center;gap:6px;padding:3px 10px;background:var(--surface2);border:1px solid var(--border);border-radius:4px;font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);}

/* Rating breakdown */
.rating-breakdown{margin-bottom:16px;}
.rb-row{display:flex;align-items:center;gap:10px;margin-bottom:5px;}
.rb-stars{font-family:var(--font-mono);font-size:0.65rem;color:var(--text3);width:30px;text-align:right;flex-shrink:0;}
.rb-bar-wrap{flex:1;height:6px;background:var(--border);border-radius:3px;overflow:hidden;}
.rb-bar{height:100%;background:var(--accent);border-radius:3px;transition:width 0.4s ease;}
.rb-count{font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);width:24px;flex-shrink:0;}

/* RIGHT sidebar */
.right-col{}

.sidebar-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:16px;}
.sc-title{font-family:var(--font-display);font-size:1rem;letter-spacing:1px;margin-bottom:14px;}
.sc-row{display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--border);}
.sc-row:last-child{border-bottom:none;}
.sc-label{font-family:var(--font-mono);font-size:0.68rem;color:var(--text3);}
.sc-val{font-family:var(--font-mono);font-size:0.72rem;font-weight:500;}
.sc-val.green{color:var(--nm);}
.sc-val.accent{color:var(--accent);}

/* Response time bar */
.response-bar{height:6px;background:var(--border);border-radius:3px;margin-top:8px;overflow:hidden;}
.rb-fill{height:100%;border-radius:3px;background:var(--nm);}

/* Badges */
.badges-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.badge-item{padding:10px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;text-align:center;}
.badge-icon{font-size:1.4rem;margin-bottom:4px;}
.badge-name{font-family:var(--font-mono);font-size:0.6rem;color:var(--text3);letter-spacing:0.5px;line-height:1.3;}

/* Report */
.report-link{font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);cursor:pointer;transition:color 0.15s;display:block;text-align:center;margin-top:4px;letter-spacing:0.3px;}
.report-link:hover{color:var(--mp);}

@media(max-width:960px){
  nav{padding:0 18px;}
  .nav-pills{display:none;}
  .profile-header{padding:24px 18px 20px;}
  .ph-inner{grid-template-columns:auto 1fr;gap:16px;}
  .ph-actions{display:none;}
  .stats-inner{grid-template-columns:repeat(3,1fr);}
  .stat-item:nth-child(4),.stat-item:nth-child(5){display:none;}
  .main-wrap{grid-template-columns:1fr;padding:20px 18px 60px;}
  .right-col{order:-1;}
  .listings-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));}
}
</style>
</head>
<body>

<nav>
  <div class="logo" onclick="window.location.href='pple-tcg.html'">PPLE<span class="dot">.</span>TCG</div>
  <div class="nav-pills">
    <button class="nav-tab" onclick="window.location.href='pple-tcg.html'">Mercado</button>
    <button class="nav-tab" onclick="window.location.href='pple-tcg-vender.html'">Vender</button>
    <button class="nav-tab" onclick="window.location.href='pple-tcg-verificacion.html'">Verificaci√≥n</button>
    <button class="nav-tab" onclick="window.location.href='pple-tcg-portfolio.html'">Portfolio</button>
    <button class="nav-tab" onclick="window.location.href='pple-tcg-mensajes.html'">Mensajes</button>
  </div>
  <div class="nav-right">
    <button class="btn-outline" onclick="window.location.href='pple-tcg-auth.html'">Entrar</button>
    <button class="btn-accent">Registrarse</button>
  </div>
</nav>

<!-- PROFILE HEADER -->
<div class="profile-header">
  <div class="ph-glow"></div>
  <div class="ph-inner">
    <div class="ph-avatar">T</div>
    <div class="ph-info">
      <div class="ph-top">
        <div class="ph-username">TrainerRed99</div>
        <div class="ph-verified">‚úì Verificado</div>
        <div class="ph-type">Particular</div>
      </div>
      <div class="ph-meta">
        <div class="ph-meta-item">
          <div class="stars" id="headerStars"></div>
          <span class="rating-num">4.9</span>
          <span class="rating-count">(127 valoraciones)</span>
        </div>
        <div class="ph-meta-item">üìç Madrid, Espa√±a</div>
        <div class="ph-meta-item">üìÖ Miembro desde enero 2023</div>
        <div class="ph-meta-item">‚ö° Responde en menos de 1h</div>
      </div>
      <div class="ph-desc">Coleccionista de Pok√©mon TCG especializado en cartas de la era Scarlet & Violet y japonesas. Siempre env√≠o en toploader y manga con seguimiento. ¬°Pregunta sin compromiso!</div>
    </div>
    <div class="ph-actions">
      <button class="btn-follow" id="btnFollow" onclick="toggleFollow()">+ Seguir</button>
      <button class="btn-msg" onclick="window.location.href='pple-tcg-mensajes.html'">üí¨ Mensaje</button>
      <div class="ph-member">Miembro desde ene. 2023</div>
    </div>
  </div>
</div>

<!-- STATS BAR -->
<div class="stats-bar">
  <div class="stats-inner">
    <div class="stat-item">
      <div class="si-val accent">247</div>
      <div class="si-label">Ventas totales</div>
    </div>
    <div class="stat-item">
      <div class="si-val green">99.2%</div>
      <div class="si-label">Valoraci√≥n positiva</div>
    </div>
    <div class="stat-item">
      <div class="si-val">18</div>
      <div class="si-label">Cartas en venta</div>
    </div>
    <div class="stat-item">
      <div class="si-val">&lt;1h</div>
      <div class="si-label">Tiempo de respuesta</div>
    </div>
    <div class="stat-item">
      <div class="si-val green">4.9</div>
      <div class="si-label">Puntuaci√≥n media</div>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="main-wrap">

  <!-- LEFT -->
  <div class="left-col">

    <!-- ACTIVE LISTINGS -->
    <div class="section">
      <div class="sec-header">
        <div>
          <div class="sec-title">EN VENTA AHORA</div>
          <div class="sec-meta">18 cartas publicadas</div>
        </div>
        <span class="sec-link" onclick="window.location.href='pple-tcg.html'">Ver todas ‚Üí</span>
      </div>
      <div class="listings-grid" id="listingsGrid"></div>
    </div>

    <!-- SALES HISTORY -->
    <div class="section">
      <div class="sec-header">
        <div>
          <div class="sec-title">VENTAS RECIENTES</div>
          <div class="sec-meta">√öltimas 10 transacciones completadas</div>
        </div>
      </div>
      <div class="sales-list" id="salesList"></div>
    </div>

    <!-- REVIEWS -->
    <div class="section">
      <div class="sec-header">
        <div>
          <div class="sec-title">VALORACIONES</div>
          <div class="sec-meta">127 rese√±as verificadas</div>
        </div>
      </div>

      <!-- Rating breakdown -->
      <div class="rating-breakdown" id="ratingBreakdown"></div>

      <!-- Reviews list -->
      <div class="reviews-list" id="reviewsList"></div>
    </div>

  </div>

  <!-- RIGHT SIDEBAR -->
  <div class="right-col">

    <!-- Quick stats -->
    <div class="sidebar-card">
      <div class="sc-title">RESUMEN DEL VENDEDOR</div>
      <div class="sc-row"><span class="sc-label">Tiempo de respuesta</span><span class="sc-val green">&lt; 1 hora</span></div>
      <div class="sc-row"><span class="sc-label">Plazo de env√≠o</span><span class="sc-val">24‚Äì48h</span></div>
      <div class="sc-row"><span class="sc-label">Transportista habitual</span><span class="sc-val">Correos Express</span></div>
      <div class="sc-row"><span class="sc-label">Env√≠o internacional</span><span class="sc-val green">S√≠</span></div>
      <div class="sc-row"><span class="sc-label">Acepta ofertas</span><span class="sc-val green">S√≠</span></div>
      <div class="sc-row"><span class="sc-label">Cartas verificadas</span><span class="sc-val accent">12 / 18</span></div>
      <div style="margin-top:14px;display:flex;flex-direction:column;gap:8px;">
        <button class="btn-accent" style="width:100%;padding:10px;" onclick="window.location.href='pple-tcg-mensajes.html'">üí¨ Enviar mensaje</button>
        <button class="btn-outline" style="width:100%;padding:10px;">Ver todas las cartas</button>
      </div>
    </div>

    <!-- Response time visual -->
    <div class="sidebar-card">
      <div class="sc-title">TIEMPO DE RESPUESTA</div>
      <div style="font-family:var(--font-display);font-size:2rem;letter-spacing:1px;color:var(--nm);margin-bottom:4px;">&lt; 1h</div>
      <div style="font-family:var(--font-mono);font-size:0.65rem;color:var(--text3);margin-bottom:10px;">Promedio de los √∫ltimos 30 d√≠as</div>
      <div class="response-bar"><div class="rb-fill" style="width:95%"></div></div>
      <div style="font-family:var(--font-mono);font-size:0.62rem;color:var(--text3);margin-top:5px;display:flex;justify-content:space-between;">
        <span>Inmediato</span><span>+24h</span>
      </div>
    </div>

    <!-- Badges -->
    <div class="sidebar-card">
      <div class="sc-title">LOGROS</div>
      <div class="badges-grid">
        <div class="badge-item"><div class="badge-icon">‚ö°</div><div class="badge-name">Respuesta r√°pida</div></div>
        <div class="badge-item"><div class="badge-icon">üèÜ</div><div class="badge-name">Top vendedor</div></div>
        <div class="badge-item"><div class="badge-icon">‚úÖ</div><div class="badge-name">Verificado Pple</div></div>
        <div class="badge-item"><div class="badge-icon">üì¶</div><div class="badge-name">200+ ventas</div></div>
        <div class="badge-item"><div class="badge-icon">‚≠ê</div><div class="badge-name">Valoraci√≥n 5‚òÖ</div></div>
        <div class="badge-item"><div class="badge-icon">üåç</div><div class="badge-name">Env√≠o EU</div></div>
      </div>
    </div>

    <span class="report-link">‚öë Reportar este perfil</span>

  </div>
</div>

<script>
// ---- DATA ----
const LISTINGS = [
  { name:'Charizard ex',     set:'Obsidian Flames', img:'https://assets.tcgdex.net/univ/sv/sv03/3/high.png',    price:124.50, cond:'NM',    verified:true },
  { name:'Pikachu ex',       set:'Paldea Evolved',  img:'https://assets.tcgdex.net/univ/sv/sv02/83/high.png',   price:84.20,  cond:'NM',    verified:true },
  { name:'Mewtwo ex',        set:'151',             img:'https://assets.tcgdex.net/univ/sv/sv3pt5/11/high.png', price:210.00, cond:'PSA 10',verified:true },
  { name:'Umbreon ex',       set:'Temporal Forces', img:'https://assets.tcgdex.net/univ/sv/sv05/95/high.png',   price:67.30,  cond:'LP',    verified:false },
  { name:'Gardevoir ex',     set:'Paradox Rift',    img:'https://assets.tcgdex.net/univ/sv/sv04/84/high.png',   price:45.80,  cond:'NM',    verified:true },
  { name:'Iron Valiant ex',  set:'Twilight Masq.',  img:'https://assets.tcgdex.net/univ/sv/sv06/210/high.png',  price:38.20,  cond:'NM',    verified:false },
  { name:'Miraidon ex',      set:'Scarlet & Violet',img:'https://assets.tcgdex.net/univ/sv/sv01/198/high.png',  price:52.40,  cond:'NM',    verified:true },
  { name:'Tyranitar ex',     set:'Obsidian Flames', img:'https://assets.tcgdex.net/univ/sv/sv03/125/high.png',  price:89.00,  cond:'PSA 9', verified:true },
];

const SALES = [
  { name:'Rayquaza ex',      set:'Obsidian Flames',  img:'https://assets.tcgdex.net/univ/sv/sv03/3/high.png',    price:145.00, date:'24 Feb 2026', buyer:'pokefan_es' },
  { name:'Eevee ex',         set:'151',              img:'https://assets.tcgdex.net/univ/sv/sv3pt5/11/high.png', price:28.50,  date:'22 Feb 2026', buyer:'CardHunter' },
  { name:'Blastoise ex',     set:'Paldea Evolved',   img:'https://assets.tcgdex.net/univ/sv/sv02/83/high.png',   price:61.00,  date:'19 Feb 2026', buyer:'JuanTrainer' },
  { name:'Sylveon ex',       set:'Paldea Evolved',   img:'https://assets.tcgdex.net/univ/sv/sv02/201/high.png',  price:55.00,  date:'17 Feb 2026', buyer:'PokeCollect' },
  { name:'Terapagos ex',     set:'Temporal Forces',  img:'https://assets.tcgdex.net/univ/sv/sv05/176/high.png',  price:41.50,  date:'14 Feb 2026', buyer:'tcg_madrid' },
];

const REVIEWS = [
  { user:'pokefan_es',  color:'linear-gradient(135deg,#1a1a2e,#e94560)', stars:5, date:'24 Feb 2026',
    text:'Vendedor excelente. La carta lleg√≥ perfectamente embalada en toploader y manga blanda. Exactamente como se describe, NM total. Env√≠o rapid√≠simo, en 24h ya la ten√≠a en casa. 100% recomendable.', card:'Rayquaza ex' },
  { user:'CardHunter', color:'linear-gradient(135deg,#0f3460,#533483)', stars:5, date:'22 Feb 2026',
    text:'Todo perfecto. Muy buen comunicador, respondi√≥ todas mis dudas antes de comprar. La Eevee ex lleg√≥ en condiciones impecables.', card:'Eevee ex' },
  { user:'JuanTrainer', color:'linear-gradient(135deg,#2d6a4f,#d4f53c)', stars:4, date:'19 Feb 2026',
    text:'Buen vendedor, carta en buen estado. Tard√≥ un poco m√°s de lo esperado en enviarla (3 d√≠as) pero lleg√≥ bien protegida y en el estado descrito.', card:'Blastoise ex' },
  { user:'PokeCollect', color:'linear-gradient(135deg,#7b2d8b,#d4f53c)', stars:5, date:'17 Feb 2026',
    text:'Perfecta transacci√≥n. El vendedor muy atento y la carta ven√≠a con sleeve y toploader de calidad. Repetir√© sin duda.', card:'Sylveon ex' },
];

const RATING_DIST = { 5:118, 4:6, 3:2, 2:1, 1:0 };

// ---- RENDER ----
function renderStars(n, container) {
  container.innerHTML = [1,2,3,4,5].map(i =>
    `<span class="star ${i<=n?'':'empty'}">‚òÖ</span>`).join('');
}

function renderHeaderStars() {
  renderStars(5, document.getElementById('headerStars'));
}

function renderListings() {
  document.getElementById('listingsGrid').innerHTML = LISTINGS.map(l => {
    const isPsa = l.cond.startsWith('PSA');
    const badgeClass = isPsa ? 'lc-psa' : l.cond==='NM' ? 'lc-nm' : 'lc-lp';
    return `
    <div class="listing-card">
      <div class="lc-img">
        <img src="${l.img}" alt="${l.name}" onerror="this.parentNode.innerHTML='üé¥'">
        <div class="lc-badge ${badgeClass}">${l.cond}</div>
        ${l.verified ? '<div class="lc-verified">‚úì</div>' : ''}
      </div>
      <div class="lc-body">
        <div class="lc-name">${l.name}</div>
        <div class="lc-set">${l.set}</div>
        <div class="lc-price">‚Ç¨${l.price.toFixed(2)}</div>
      </div>
    </div>`;
  }).join('');
}

function renderSales() {
  document.getElementById('salesList').innerHTML = SALES.map(s => `
    <div class="sale-item">
      <img class="si-thumb" src="${s.img}" onerror="this.style.display='none'" alt="">
      <div class="si-info">
        <div class="si-name">${s.name}</div>
        <div class="si-meta">${s.set} ¬∑ Comprador: @${s.buyer}</div>
      </div>
      <div class="si-price">‚Ç¨${s.price.toFixed(2)}</div>
      <div class="si-date">${s.date}</div>
    </div>`).join('');
}

function renderRatingBreakdown() {
  const total = Object.values(RATING_DIST).reduce((a,b)=>a+b,0);
  document.getElementById('ratingBreakdown').innerHTML = [5,4,3,2,1].map(n => {
    const count = RATING_DIST[n] || 0;
    const pct = total ? (count/total*100).toFixed(0) : 0;
    return `<div class="rb-row">
      <span class="rb-stars">${n}‚òÖ</span>
      <div class="rb-bar-wrap"><div class="rb-bar" style="width:${pct}%"></div></div>
      <span class="rb-count">${count}</span>
    </div>`;
  }).join('');
}

function renderReviews() {
  document.getElementById('reviewsList').innerHTML = REVIEWS.map(r => `
    <div class="review-item">
      <div class="ri-top">
        <div class="ri-user">
          <div class="ri-av" style="background:${r.color}">${r.user[0]}</div>
          <div>
            <div class="ri-name">@${r.user}</div>
            <div class="ri-date">${r.date}</div>
          </div>
        </div>
        <div class="ri-stars">${[1,2,3,4,5].map(i=>`<span class="ri-star ${i<=r.stars?'':'empty'}">‚òÖ</span>`).join('')}</div>
      </div>
      <div class="ri-text">${r.text}</div>
      <div class="ri-card">üÉè ${r.card}</div>
    </div>`).join('');
}

let following = false;
function toggleFollow() {
  following = !following;
  const btn = document.getElementById('btnFollow');
  btn.textContent = following ? '‚úì Siguiendo' : '+ Seguir';
  btn.classList.toggle('following', following);
}

// ---- INIT ----
renderHeaderStars();
renderListings();
renderSales();
renderRatingBreakdown();
renderReviews();
</script>
</body>
</html>
